// http://guides.rubyonrails.org/working_with_javascript_in_rails.html#form-for
// http://guides.rubyonrails.org/layouts_and_rendering.html#rendering-collections

// Update the search result.
$('#search_result').html(
  '<%= j(render "search_result", collection: @floorplans) %>'
);

$('#search_meta').html(
  '<%= j(render "search_meta", collection: @floorplans, search_conditions: @search_conditions) %>'
);

// Update the markers passing JSON data to frontend.
var properties = <%= raw Property.properties_json_for_map(@properties) %>
window.App.currentMap.updateMarkers(properties);
