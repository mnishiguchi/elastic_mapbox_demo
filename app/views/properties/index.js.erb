// http://guides.rubyonrails.org/working_with_javascript_in_rails.html#form-for
// http://guides.rubyonrails.org/layouts_and_rendering.html#rendering-collections

// Update the search result.
$('#search_result').html(
  '<%= j(render "search_result") %>'
);

// Update the search meta.
$('#search_meta').html(
  '<%= j(render "search_meta", search_filters: @search_filters) %>'
);

// Replace the query term with the formatted one.
$('#q').val('<%= j(@formatted_query) %>')

// Update the webpage title.
$('title').html(
  '<%= j(properties_title) %>'
);

// Update the map's center and the markers.
window.App.maps.currentMap.updateMap(
  <%= raw @center_lng_lat %>,
  <%= raw @json_for_map %>
);
